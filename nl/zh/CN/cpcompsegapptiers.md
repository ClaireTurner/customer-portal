---

copyright:

  years: 1994, 2018

lastupdated: "2018-01-11"

---

{:shortdesc: .shortdesc}
{:codeblock: .codeblock}
{:tip: .tip}
{:screen: .screen}
{:new_window: target="_blank"}

# 确保环境安全和扩展环境
{: #cp_compsegapptierssecscal}

托管应用程序时，对于任何系统管理员来说，要考虑的其中两个最关键的方面是应用程序的安全性和可扩展性。
{:shortdesc}

## 使用防火墙确保系统安全
{: #cp_bpsecuresystem}

防火墙是任何设备的附加组件服务，您必须手动进行配置和启用，以确保它们有效。您可以锁定多余的端口并禁止公共端口用于基于专用网络的系统，以进一步管理系统的外部可访问性。在客户门户网站中执行定期漏洞扫描可识别任何未解决或未知的安全风险，以便您可以迅速缓解风险。

### 激活防火墙
{: #cp_bpnofirewalbypass}

保护您的系统从购买防火墙开始，但仅仅购买防火墙并不能对您进行保护。供应防火墙后，防火墙处于**旁路方式**并且未设置规则。要使防火墙启动并运行，您必须创建规则并激活防火墙，这样防火墙才能开始阻止意外活动。


## 通过对应用程序层分段来确保环境安全
{: #cp_copmsecenv}

通过将逻辑应用程序层分段为物理基础架构层，可以通过使用访问控制表 (ACL) 来提供更高的安全性。对应用程序层分段时，要考虑的其中最关键的一个部分是您允许哪些流量流入各个层以及允许源自哪里的流量。为了确定这一点，您需要考虑应用程序的基本工作方式，以及哪些服务相互依赖，以向最终用户提供其请求的内容。

例如，对于依赖于 Web 前端和数据库后端的两层应用程序，需要确保 Web 服务器上的端口 80 和 443（如果使用的是 SSL）对因特网开放。您还可能希望利用 {{site.data.keyword.BluSoftlayer_full}} 基础架构专用网络，使所有端口均对因特网锁定，并通过 VPN 来管理服务器。在此场景中，您可能需要取消绑定数据库服务器上的公共 IP 地址，并通过端口 1433（对于 MSSQL）或端口 3306（对于 {{site.data.keyword.mysql}}）向其传递来自 Web 服务器的所有流量。数据库服务器可以像 Web 服务器一样通过专用网络进行管理，您可以在数据库服务器上设置软件防火墙，以锁定从 Web 服务器到特定数据库端口的所有流量。

以这种方式设置环境后，可以通过阻止人员从因特网访问 SSH 或 RDP，并禁用流至数据库的所有因特网流量，从而提高安全性。通过在 Web 层和数据库层之间创建 ACL，即使 Web 服务器受到破坏，也不容易破坏数据库。

## 通过对应用程序层分段来扩展环境
{: #cp_copmscaleenv}

与垂直或单主机体系结构相比，多层环境更易于扩展。您可以设置多层环境，通过允许扩展需要更多资源的服务，更轻松地向外扩展应用程序。例如，在前一种场景中，如果 Web 服务器负载过重，那么可以轻松部署另一个 Web 服务器，复制站点或应用程序数据，然后设置负载均衡或循环法 DNS，从而使两个 Web 服务器分担 Web 负载。循环法 DNS 或负载均衡通过支持多个 Web 服务器响应传入请求，为环境提供高可用性。如果单个服务器发生故障，另一个节点可用于处理最终用户请求。

您还可以向外扩展数据库。例如，对于 {{site.data.keyword.mysql}} 数据库，一种选择是设置另一个物理服务器，并将其用作 {{site.data.keyword.mysql}} 主/从复制设置中的“从属”节点。您可以将所有数据库写入操作分段到“主”节点，并将所有读取操作分段到一个或多个“从属”节点，以向外扩展数据库来支持更多负载。这种类型的设置还通过支持将状态从“从属”更改为“主”来添加高可用性级别，并在 {{site.data.keyword.mysql}}“主”节点发生故障时，将读写流量传递到新的“主”节点。

这些构想只是保护环境安全和扩展环境的众多方法中的几种方法。如果您对构造环境的最佳方式有安全性或可扩展性方面的任何问题或疑虑，{{site.data.keyword.BluSoftlayer_notm}} 基础架构的销售工程团队可以提供相关帮助。
