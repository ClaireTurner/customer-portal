---

copyright:

  years: 1994, 2018

lastupdated: "2018-01-11"

---

{:shortdesc: .shortdesc}
{:codeblock: .codeblock}
{:tip: .tip}
{:screen: .screen}
{:new_window: target="_blank"}

# 環境の保護と拡大縮小
{: #cp_compsegapptierssecscal}

アプリケーションをホスティングするときにシステム管理者が考慮する必要のある最も重要な 2 つの観点は、アプリケーションのセキュリティーおよびスケーラビリティーです。
{:shortdesc}

## ファイアウォールを使用したシステムの保護
{: #cp_bpsecuresystem}

ファイアウォールは、すべてのデバイスに対するアドオン・サービスであり、実効性を確保するには手動で構成して使用可能にする必要があります。 不要なポートをロックし、パブリック・ポートを使用不可にすることによって、プライベート・ネットワーク・ベースのシステムで、システムへの外部からのアクセス可能性をさらに管理できるようになります。 カスタマー・ポータルでの定期的な脆弱点スキャンの実行によって未処理または不明のセキュリティー・リスクが特定され、リスクを素早く軽減することができます。

### ファイアウォールのアクティブ化
{: #cp_bpnofirewalbypass}

システムの保護はファイアウォールの購入で始まりますが、ファイアウォールの購入だけでは保護されません。 ファイアウォールは、プロビジョンされた後は**バイパス・モード**であり、ルールは設定されていません。 ファイアウォールを稼働中にするには、望まないアクティビティーのブロックをファイアウォールが開始できるように、ルールを作成し、ファイアウォールをアクティブ化する必要があります。


## アプリケーション層のセグメント化による環境の保護
{: #cp_copmsecenv}

論理アプリケーション層を物理インフラストラクチャー層にセグメント化することによって、より強力なセキュリティーをアクセス制御リスト (ACL) の使用を介して提供できます。 アプリケーション層をセグメント化するときに考慮する必要のある最も重要な要素の 1 つは、どこからのどのトラフィックが各層にアクセスするのを許可するのかということです。 これを決定するには、アプリケーションが基本的にどのように動作するのかについて、および、どのサービスとどのサービスが互いに依存してエンド・ユーザーが要求するコンテンツを提供しているのかについて検討する必要があります。

例えば、2 つの層からなるアプリケーションが Web フロントエンドとデータベース・バックエンドに依存している場合、ポート 80 および 443 (SSL を使用している場合) が Web サーバー上でインターネットに対して開いていることを確認する必要があります。 また高い確率で、インターネットに対してすべてのポートをロックし、{{site.data.keyword.BluSoftlayer_full}} インフラストラクチャーのプライベート・ネットワークを活用することによって VPN を介してサーバーを管理することも必要になります。 このシナリオでは、データベース・サーバー上のパブリック IP アドレスをアンバインドし、そこへのすべてのトラフィックをポート 1433 (MSSQL の場合) またはポート 3306 ({{site.data.keyword.mysql}} の場合) を介して Web サーバーから渡すようにします。  データベース・サーバーを Web サーバーと同じようにプライベート・ネットワークを介して管理でき、データベース・サーバー上にソフトウェア・ファイアウォールをセットアップして Web サーバーから特定のデータベース・ポートへのすべてのトラフィックをロックするようにできます。

このように環境をセットアップすることによって、インターネットからの SSH または RDP へのアクセスが防止されること、およびデータベースへのすべてのインターネット・トラフィックが無効になることで、セキュリティーが強化されます。  Web 層とデータベース層の間の ACL を作成すると、Web サーバーへの不正アクセスがあったときにデータベースへの不正アクセスがより困難になります。

## アプリケーション層のセグメント化による環境の拡大縮小
{: #cp_copmscaleenv}

多層環境では、垂直ホスト・アーキテクチャーまたは単一ホスト・アーキテクチャーに比べて拡大縮小も簡単です。 追加リソースを必要とするサービスに対し拡大を許可することによって、アプリケーションを簡単にスケールアウトできるように多層環境をセットアップできます。 例えば、上記のシナリオでは、Web サーバーが酷使されている場合、単に別の Web サーバーをデプロイし、サイトまたはアプリケーションのデータを複製し、2 つの Web サーバーが Web 負荷を分担するようにロード・バランシングまたはラウンドロビン DNS をセットアップすることができます。 ラウンドロビン DNS またはロード・バランシングは、複数の Web サーバーが着信要求に応答することを可能にすることによって、環境での高可用性を実現します。  1 つのサーバーがダウンした場合、別のノードがエンド・ユーザー要求の処理に使用可能です。

データベースをスケールアウトすることもできます。 例えば、{{site.data.keyword.mysql}} データベースの場合、1 つのオプションは、別の物理サーバーをセットアップし、それを {{site.data.keyword.mysql}} マスター/スレーブ複製セットアップで「スレーブ」として使用することです。  データベース書き込みのすべてを「マスター」にセグメントして、すべての読み取りを 1 つ以上の「スレーブ」にセグメントすることで、より多くの負荷をサポートするようにデータベースをスケールアウトできます。  このタイプのセットアップは、{{site.data.keyword.mysql}} 「マスター」ノードがダウンした場合に、「スレーブ」の状況を「マスター」に変更し、読み取りと書き込みの両方のトラフィックをそこに転送することを可能にすることで、ある程度の高可用性も追加します。

上記は、環境の保護および拡大縮小を行うための多くの方法のうちのいくつかを示したものにすぎません。 セキュリティーおよびスケーラビリティーの観点での環境の最適な構築方法に関して質問または懸案事項がある場合は、{{site.data.keyword.BluSoftlayer_notm}} インフラストラクチャーの営業担当エンジニアリング・チームがご支援可能です。
